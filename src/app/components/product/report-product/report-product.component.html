<div class="row">
    <div class="col s5 offset-7">
        <h1 class="form-page-title">דיווח גמר לייצור</h1>
        <form novalidate (ngSubmit)="onSubmit(addProductPlaceForm)" [formGroup]="addProductPlaceForm">

            <input 
            type="text" 
            placeholder="מק''ט'" 
            (change)="onProductsAutoChange($event)" 
            id="productAutocomplete" 
            list="dynmicProductsNames"             
            class="form-control input-form"
            formControlName="productId"/>

            <datalist id="dynmicProductsNames">
                <option *ngFor="let item of products" [value]="item.key">{{item.key}}</option>
            </datalist>

            <div *ngIf="addProductPlaceForm.get('productId').hasError('required') && addProductPlaceForm.get('productId').touched" class="text-danger">
                חובה לבחור מק"ט!
            </div>

            <input 
            type="text" 
            placeholder="הוראה" 
            formControlName="instruction"            
            class="form-control input-form">

            <div *ngIf="addProductPlaceForm.get('instruction').hasError('required') && addProductPlaceForm.get('instruction').touched" class="text-danger">
                חובה להזין הוראה!
            </div>

            <input 
            type="number" 
            placeholder="כמות" 
            formControlName="count"            
            class="form-control input-form">

            <div *ngIf="addProductPlaceForm.get('count').hasError('required') && addProductPlaceForm.get('count').touched"
            class="text-danger">
            חובה להזין כמות!
        </div>

        <span class="text-danger"
            *ngIf="addProductPlaceForm.get('count').hasError('nonPositive') && addProductPlaceForm.get('count').touched">
            הזן ספרה הגדולה מ-0</span>

            <input 
            type="text" 
            placeholder="מיקום" 
            formControlName="placeId"
            (change)="onPlacesAutoChange($event)" 
            id="placeAutocomplete" 
            list="dynmicPlacesNames"            
            class="form-control input-form" />

            <datalist id="dynmicPlacesNames">
                <option *ngFor="let item of places" [value]="item.key">{{item.key}}</option>
            </datalist>

            <div *ngIf="addProductPlaceForm.get('placeId').hasError('required') && addProductPlaceForm.get('placeId').touched" class="text-danger">
                חובה לבחור מיקום!
            </div>

            <div class="buttons-form-section">
                <a class="waves-effect waves-light btn-small back-to-grid-btn" routerLink="/inventory-balances">חזרה לרשימה</a>
                <button type="submit" class="waves-effect waves-light btn-small edit-btn"
                    [disabled]="addProductPlaceForm.invalid">
                    הוסף
                </button>
            </div>
        </form>
    </div>
</div>


<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-scale-multiple">
    <p style="font-size: 20px; color: white">טוען...</p>
</ngx-spinner>